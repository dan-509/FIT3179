{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 800,
  "height":600,
  "autosize": {
    "type": "fit"
  },
  "data": {"url": "https://raw.githubusercontent.com/dan-509/FIT3179/master/Trade_Balance.csv"},
  "layer": [
    {
      "mark": "bar",
      "title": "Trade Balances of World's Countries",
      "selection": {
        "industry": {
          "type": "multi", "fields": ["Region"], "bind": "legend"}
      },
      "encoding": {
        "x": {
          "field": "Country",
          "type": "nominal",
          "sort": "y",
          "axis": {
            "labels": false,
            "ticks": false,
            "title": ""
          }

        },
        "y": {
          "field": "percentGDP",
          "type": "quantitative",
          "axis": {"title": "Trade Balance as % of GDP"}
        },
        "color": {"field": "Region", 
        "scale": {"range": ["#f54242","#ffa10a","gold","#37bdbd","#1913bf","#7d0a75","#80a6f2"]}},
        "opacity": {
      "condition": {"selection": "industry", "value": 1},
      "value": 0.2},
        "tooltip": [{"field": "Country", "type": "nominal"},{"field": "Region", "type": "nominal"}, {"field": "percentGDP", "type": "quantitative", "title": "Trade Balance as % of GDP"}]
      }
    },
    {
      "mark": { "type": "rule" },
      "data": {"values": {"y": 1}},
      "encoding": 
        {"y": { "value": 231 },
        "color": {"value": "black"},
        "size": {"value": 2}
      }
      
    }
  ]
}
